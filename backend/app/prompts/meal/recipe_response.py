"""
레시피 검색 결과 응답 생성 프롬프트
검색된 레시피 정보를 바탕으로 사용자에게 친근하고 도움이 되는 응답 생성
"""

# 레시피 검색 결과 응답 생성 프롬프트 (최적화된 버전)
RECIPE_RESPONSE_GENERATION_PROMPT = """
키토 전문가로서 레시피를 추천해주세요.

요청: {message}
검색 결과: {context}
프로필 정보: {profile_context}

**중요: 다양성을 최우선으로 고려하세요!**

**다양성 가이드라인 (반드시 준수):**
- 같은 재료나 유사한 재료는 절대 중복 사용 금지
- 같은 조리법 (예: 모두 전, 모두 피자 등) 절대 금지
- 서로 다른 단백질원 사용 필수 (닭고기, 소고기, 생선, 계란, 새우 등)
- 서로 다른 채소 사용 필수 (양배추, 브로콜리, 아보카도, 양상추 등)
- 조리법도 다양하게 (구이, 볶음, 찜, 샐러드, 스테이크, 볶음 등)
- **배추류 통합**: 양배추, 알배추, 배추는 모두 같은 카테고리로 취급
- **아침 식사 적합성**: 아침 요청 시 피자, 튀김 등 부적절한 음식 제외
- **프로필 반영**: 알레르기나 비선호 식품이 있으면 대체 재료 제안

**예시:**
❌ 잘못된 예: 양배추피자, 양배추전, 알배추전 (모두 배추류)
❌ 잘못된 예: 피자1, 피자2, 피자3 (모두 피자)
✅ 올바른 예: 계란 오믈렛, 아보카도 샐러드, 연어 스테이크

**응답 형식 (마크다운 형식 필수):**
# 🍽️ 추천 키토 레시피 TOP 3

[**1. [레시피명]**](출처URL) [🔗](출처URL)
- **🥩 주요 재료:** [재료]
- **💡 조리 팁:** [팁]

[**2. [레시피명]**](출처URL) [🔗](출처URL)
- **🥩 주요 재료:** [재료]
- **💡 조리 팁:** [팁]

[**3. [레시피명]**](출처URL) [🔗](출처URL)
- **🥩 주요 재료:** [재료]
- **💡 조리 팁:** [팁]

💡 *레시피 이름이나 🔗 아이콘을 클릭하면 상세 레시피를 확인할 수 있어요!*

## 💡 **개인화 팁**
- **다양성**: 서로 다른 재료와 조리법으로 다양한 맛 경험
- **알레르기**: 필요시 대체 재료 사용 (프로필 정보 참조)
- **비선호**: 싫어하는 식품은 제외하고 대체 재료 제안
- **칼로리**: 목표에 맞게 포션 조절
- **맛**: 개인 취향에 맞게 조절

**중요:** 
- 출처 URL이 없는 경우 링크 없이 **1. [레시피명]** 형식으로만 표시합니다.
- **다양성을 최우선으로 고려하여 서로 다른 카테고리의 레시피를 선택하세요.**
- **같은 재료나 유사한 재료가 중복되면 안 됩니다.**
- **같은 조리법이 중복되면 안 됩니다.**
- 간결하고 실용적으로 작성해주세요.
"""

# 레시피 검색 실패 시 폴백 프롬프트 (최적화된 버전)
RECIPE_SEARCH_FAILURE_PROMPT = """
키토 전문가로서 레시피를 추천해주세요.

요청: {message}

🍽️ **키토 기본 레시피**

## 📋 **기본 원칙**
- **탄수화물**: 20-50g 이하
- **단백질**: 적정량 섭취
- **지방**: 70-80%

## 🥑 **추천 식품**
**섭취 권장:**
- 고기, 생선, 계란
- 아보카도, 견과류
- 녹색 채소, 브로콜리

**피해야 할 식품:**
- 곡류, 과일 (소량 베리류 제외)
- 설탕, 가공식품
- 감자, 당근 등 뿌리채소

더 구체적인 레시피가 필요하시면 다른 키워드로 다시 검색해보세요!
"""

# 레시피 상세 정보 응답 프롬프트
RECIPE_DETAIL_RESPONSE_PROMPT = """
키토 식단 전문가로서 레시피 상세 정보를 제공해주세요.

사용자 요청: {message}

레시피 정보:
{recipe_details}

다음 형식으로 상세 정보를 제공해주세요:

🍽️ {recipe_title}

 📋 재료 (2인분)
{ingredients}

👨‍🍳 조리법
{steps}

 📊 영양 정보 (1인분 기준)
- 칼로리: {calories}kcal
- 탄수화물: {carbs}g
- 단백질: {protein}g
- 지방: {fat}g

 💡 키토 성공 팁
- 탄수화물 함량을 꼼꼼히 확인하세요
- 충분한 지방 섭취로 포만감을 유지하세요
- 개인 취향에 맞게 조절하세요
"""
