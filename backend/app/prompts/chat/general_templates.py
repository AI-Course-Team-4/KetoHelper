"""
ì¼ë°˜ ì§ˆë¬¸ í…œí”Œë¦¿
"""

# ë¡œê·¸ì¸ ì‚¬ìš©ììš© ì¸ì‚¬ í…œí”Œë¦¿
GREETING_TEMPLATE_LOGGED_IN = """
# ğŸ‘‹ ì•ˆë…•í•˜ì„¸ìš”!

í‚¤í†  ë‹¤ì´ì–´íŠ¸ ì „ë¬¸ AI ì½”ì¹˜ì…ë‹ˆë‹¤! 

## ğŸ¥‘ ì œê°€ ë„ì™€ë“œë¦´ ìˆ˜ ìˆëŠ” ê²ƒë“¤
- **ë§ì¶¤í˜• ì‹ë‹¨í‘œ**: "7ì¼ ì‹ë‹¨í‘œ ë§Œë“¤ì–´ì¤˜" (ì•Œë ˆë¥´ê¸°/ë¹„ì„ í˜¸ ì‹í’ˆ ë°˜ì˜)
- **ê°œì¸í™” ë ˆì‹œí”¼**: "ë‹­ê°€ìŠ´ì‚´ ë ˆì‹œí”¼ ì•Œë ¤ì¤˜" (í”„ë¡œí•„ ê¸°ë°˜ ì¶”ì²œ)
- **ì‹ë‹¹ ê²€ìƒ‰**: "ê°•ë‚¨ì—­ ê·¼ì²˜ í‚¤í†  ì‹ë‹¹ ì°¾ì•„ì¤˜"
- **í‚¤í†  ì •ë³´**: í‚¤í†  ë‹¤ì´ì–´íŠ¸ì— ëŒ€í•œ ëª¨ë“  ì§ˆë¬¸

## âš™ï¸ í”„ë¡œí•„ ì„¤ì •ìœ¼ë¡œ ë” ë‚˜ì€ ì„œë¹„ìŠ¤ ë°›ê¸°
**í”„ë¡œí•„ì„ ì„¤ì •í•˜ì‹œë©´** ë”ìš± ì •í™•í•œ ë§ì¶¤í˜• ì¶”ì²œì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:
- **ì•Œë ˆë¥´ê¸° ì •ë³´**: ì•ˆì „í•œ ì‹í’ˆë§Œ ì¶”ì²œ
- **ë¹„ì„ í˜¸ ì‹í’ˆ**: ì‹«ì–´í•˜ëŠ” ìŒì‹ ì œì™¸
- **ëª©í‘œ ì„¤ì •**: ì¹¼ë¡œë¦¬, íƒ„ìˆ˜í™”ë¬¼ ëª©í‘œì— ë§ëŠ” ê³„íš

## ğŸ’¡ ë¹ ë¥¸ ì‹œì‘
**í‚¤í†  ë‹¤ì´ì–´íŠ¸ ì‹œì‘í•˜ë ¤ê³  í•´**ë¼ê³  ë§ì”€í•´ì£¼ì‹œë©´ ê°œì¸ ë§ì¶¤í˜• ê°€ì´ë“œë¥¼ ì œê³µí•´ë“œë¦´ê²Œìš”!

ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”? ğŸ˜Š
"""

# ë¹„ë¡œê·¸ì¸ ì‚¬ìš©ììš© ì¸ì‚¬ í…œí”Œë¦¿
GREETING_TEMPLATE_GUEST = """
# ğŸ‘‹ ì•ˆë…•í•˜ì„¸ìš”!

í‚¤í†  ë‹¤ì´ì–´íŠ¸ ì „ë¬¸ AI ì½”ì¹˜ì…ë‹ˆë‹¤! 

## ğŸ¥‘ ì œê°€ ë„ì™€ë“œë¦´ ìˆ˜ ìˆëŠ” ê²ƒë“¤
- **ê¸°ë³¸ ì‹ë‹¨í‘œ**: "7ì¼ ì‹ë‹¨í‘œ ë§Œë“¤ì–´ì¤˜"
- **ì¼ë°˜ ë ˆì‹œí”¼**: "ë‹­ê°€ìŠ´ì‚´ ë ˆì‹œí”¼ ì•Œë ¤ì¤˜"
- **ì‹ë‹¹ ê²€ìƒ‰**: "ê°•ë‚¨ì—­ ê·¼ì²˜ í‚¤í†  ì‹ë‹¹ ì°¾ì•„ì¤˜"
- **í‚¤í†  ì •ë³´**: í‚¤í†  ë‹¤ì´ì–´íŠ¸ì— ëŒ€í•œ ëª¨ë“  ì§ˆë¬¸

## ğŸ’¡ ë” ë‚˜ì€ ì„œë¹„ìŠ¤ë¥¼ ìœ„í•´
**ë¡œê·¸ì¸**í•˜ì‹œë©´ ì•Œë ˆë¥´ê¸°, ë¹„ì„ í˜¸ ì‹í’ˆì„ ê³ ë ¤í•œ **ë§ì¶¤í˜• ì¶”ì²œ**ì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤!

ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”? ğŸ˜Š
"""

# ë¡œê·¸ì¸ ì‚¬ìš©ììš© ìê¸°ì†Œê°œ í…œí”Œë¦¿
INTRODUCTION_TEMPLATE_LOGGED_IN = """
# ğŸ¤– í‚¤í†  ì½”ì¹˜ AI

ì €ëŠ” **í‚¤í†  ë‹¤ì´ì–´íŠ¸ ì „ë¬¸ AI ì½”ì¹˜**ì…ë‹ˆë‹¤!

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥
- **ë§ì¶¤í˜• ì‹ë‹¨í‘œ**: ê°œì¸ í”„ë¡œí•„ì— ë§ëŠ” 7ì¼ ì‹ë‹¨ ê³„íš
- **ê°œì¸í™” ë ˆì‹œí”¼**: ì•Œë ˆë¥´ê¸°/ë¹„ì„ í˜¸ ì‹í’ˆì„ ê³ ë ¤í•œ í‚¤í†  ë ˆì‹œí”¼
- **ì‹ë‹¹ ê²€ìƒ‰**: ìœ„ì¹˜ ê¸°ë°˜ í‚¤í†  ì¹œí™”ì  ì‹ë‹¹ ì¶”ì²œ
- **ìº˜ë¦°ë” ì—°ë™**: ìƒì„±ëœ ì‹ë‹¨ì„ ìº˜ë¦°ë”ì— ìë™ ì €ì¥

## âš™ï¸ í”„ë¡œí•„ ì„¤ì •ìœ¼ë¡œ ë” ë‚˜ì€ ì„œë¹„ìŠ¤ ë°›ê¸°
**í”„ë¡œí•„ì„ ì„¤ì •í•˜ì‹œë©´** ë”ìš± ì •í™•í•œ ë§ì¶¤í˜• ì¶”ì²œì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:
- **ì•Œë ˆë¥´ê¸° ì •ë³´**: ì•ˆì „í•œ ì‹í’ˆë§Œ ì¶”ì²œ
- **ë¹„ì„ í˜¸ ì‹í’ˆ**: ì‹«ì–´í•˜ëŠ” ìŒì‹ ì œì™¸
- **ëª©í‘œ ì„¤ì •**: ì¹¼ë¡œë¦¬, íƒ„ìˆ˜í™”ë¬¼ ëª©í‘œì— ë§ëŠ” ê³„íš

## ğŸ¥‘ í‚¤í†  ë‹¤ì´ì–´íŠ¸ë€?
- **ê³ ì§€ë°©, ì €íƒ„ìˆ˜í™”ë¬¼** ì‹ë‹¨
- **íƒ„ìˆ˜í™”ë¬¼ 20g ì´í•˜**ë¡œ ì œí•œ
- **ì§€ë°© 70-80%**, **ë‹¨ë°±ì§ˆ 20-25%** ë¹„ìœ¨
- **ì²´ì¤‘ ê°ëŸ‰**ê³¼ **ì§‘ì¤‘ë ¥ í–¥ìƒ** íš¨ê³¼

## ğŸ’ª ì‹œì‘í•´ë³´ì„¸ìš”!
**í‚¤í†  ë‹¤ì´ì–´íŠ¸ ì‹œì‘í•˜ë ¤ê³  í•´**ë¼ê³  ë§ì”€í•´ì£¼ì‹œë©´ ê°œì¸ ë§ì¶¤ ê°€ì´ë“œë¥¼ ì œê³µí•´ë“œë¦´ê²Œìš”!
"""

# ë¹„ë¡œê·¸ì¸ ì‚¬ìš©ììš© ìê¸°ì†Œê°œ í…œí”Œë¦¿
INTRODUCTION_TEMPLATE_GUEST = """
# ğŸ¤– í‚¤í†  ì½”ì¹˜ AI

ì €ëŠ” **í‚¤í†  ë‹¤ì´ì–´íŠ¸ ì „ë¬¸ AI ì½”ì¹˜**ì…ë‹ˆë‹¤!

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥
- **ê¸°ë³¸ ì‹ë‹¨í‘œ**: 7ì¼ ì‹ë‹¨ ê³„íš ìƒì„±
- **ì¼ë°˜ ë ˆì‹œí”¼**: í‚¤í†  ë ˆì‹œí”¼ ì¶”ì²œ
- **ì‹ë‹¹ ê²€ìƒ‰**: ìœ„ì¹˜ ê¸°ë°˜ í‚¤í†  ì¹œí™”ì  ì‹ë‹¹ ì¶”ì²œ
- **ìº˜ë¦°ë” ì—°ë™**: ìƒì„±ëœ ì‹ë‹¨ì„ ìº˜ë¦°ë”ì— ìë™ ì €ì¥

## ğŸ¥‘ í‚¤í†  ë‹¤ì´ì–´íŠ¸ë€?
- **ê³ ì§€ë°©, ì €íƒ„ìˆ˜í™”ë¬¼** ì‹ë‹¨
- **íƒ„ìˆ˜í™”ë¬¼ 20g ì´í•˜**ë¡œ ì œí•œ
- **ì§€ë°© 70-80%**, **ë‹¨ë°±ì§ˆ 20-25%** ë¹„ìœ¨
- **ì²´ì¤‘ ê°ëŸ‰**ê³¼ **ì§‘ì¤‘ë ¥ í–¥ìƒ** íš¨ê³¼

## ğŸ’¡ ë” ë‚˜ì€ ì„œë¹„ìŠ¤ë¥¼ ìœ„í•´
**ë¡œê·¸ì¸**í•˜ì‹œë©´ ì•Œë ˆë¥´ê¸°, ë¹„ì„ í˜¸ ì‹í’ˆì„ ê³ ë ¤í•œ **ë§ì¶¤í˜• ì¶”ì²œ**ì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤!

## ğŸ’ª ì‹œì‘í•´ë³´ì„¸ìš”!
"í‚¤í†  ë‹¤ì´ì–´íŠ¸ ì‹œì‘í•˜ë ¤ê³  í•´"ë¼ê³  ë§ì”€í•´ì£¼ì‹œë©´ ê¸°ë³¸ ê°€ì´ë“œë¥¼ ì œê³µí•´ë“œë¦´ê²Œìš”!
"""

# ë¡œê·¸ì¸ ì‚¬ìš©ììš© í‚¤í†  ì„¤ëª… í…œí”Œë¦¿
KETO_EXPLANATION_TEMPLATE_LOGGED_IN = """
# ğŸ¥‘ í‚¤í†  ë‹¤ì´ì–´íŠ¸ë€?

**í‚¤í† ì œë‹‰ ë‹¤ì´ì–´íŠ¸** (Ketogenic Diet)ëŠ” ê³ ì§€ë°©, ì €íƒ„ìˆ˜í™”ë¬¼ ì‹ë‹¨ì…ë‹ˆë‹¤.

## ğŸ“Š ê¸°ë³¸ ì›ë¦¬
- **íƒ„ìˆ˜í™”ë¬¼**: 20g ì´í•˜ (ì¼ì¼ ì¹¼ë¡œë¦¬ì˜ 5%)
- **ì§€ë°©**: 70-80% (ì£¼ ì—ë„ˆì§€ì›)
- **ë‹¨ë°±ì§ˆ**: 20-25% (ê·¼ìœ¡ ë³´í˜¸)

## âš¡ ì‘ë™ ì›ë¦¬
1. **íƒ„ìˆ˜í™”ë¬¼ ì œí•œ** â†’ ê¸€ë¦¬ì½”ê² ê³ ê°ˆ
2. **ì¼€í†¤ì²´ ìƒì„±** â†’ ì§€ë°©ì„ ì—ë„ˆì§€ë¡œ ì „í™˜
3. **ì²´ì¤‘ ê°ëŸ‰** + **ì§‘ì¤‘ë ¥ í–¥ìƒ**

## ğŸ½ï¸ ì£¼ìš” ì‹í’ˆ
### âœ… ê¶Œì¥ ì‹í’ˆ
- **ê³ ê¸°**: ì†Œê³ ê¸°, ë¼ì§€ê³ ê¸°, ë‹­ê³ ê¸°, ì˜¤ë¦¬ê³ ê¸°
- **ìƒì„ **: ì—°ì–´, ê³ ë“±ì–´, ì°¸ì¹˜, ìƒˆìš°
- **ì§€ë°©**: ë²„í„°, ì˜¬ë¦¬ë¸Œì˜¤ì¼, ì•„ë³´ì¹´ë„, ê²¬ê³¼ë¥˜
- **ì±„ì†Œ**: ìì±„ì†Œ, ë¸Œë¡œì½œë¦¬, ì•„ìŠ¤íŒŒë¼ê±°ìŠ¤

### âŒ í”¼í•´ì•¼ í•  ì‹í’ˆ
- **ê³¡ë¬¼**: ìŒ€, ë°€, ì˜¥ìˆ˜ìˆ˜
- **ê³¼ì¼**: ì‚¬ê³¼, ë°”ë‚˜ë‚˜, í¬ë„ (ê³ ë‹¹ë„)
- **ë‹¹ë¥˜**: ì„¤íƒ•, ê¿€, ì‹œëŸ½
- **ê°€ê³µì‹í’ˆ**: ë¹µ, ì¼€ì´í¬, ê³¼ì

## ğŸ¯ íš¨ê³¼
- **ì²´ì¤‘ ê°ëŸ‰**: ì§€ë°© ì—°ì†Œ ì´‰ì§„
- **ì§‘ì¤‘ë ¥**: ì•ˆì •ì ì¸ ì—ë„ˆì§€ ê³µê¸‰
- **í˜ˆë‹¹ ì•ˆì •**: ì¸ìŠë¦° ì €í•­ì„± ê°œì„ 

## âš ï¸ ì£¼ì˜ì‚¬í•­
- **ì˜ë£Œì§„ ìƒë‹´** í•„ìˆ˜
- **ì „í•´ì§ˆ ë³´ì¶©** í•„ìš”
- **ì ì§„ì  ì‹œì‘** ê¶Œì¥

## âš™ï¸ í”„ë¡œí•„ ì„¤ì •ìœ¼ë¡œ ë” ë‚˜ì€ ì„œë¹„ìŠ¤ ë°›ê¸°
**í”„ë¡œí•„ì„ ì„¤ì •í•˜ì‹œë©´** ë”ìš± ì •í™•í•œ ë§ì¶¤í˜• ì¶”ì²œì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:
- **ì•Œë ˆë¥´ê¸° ì •ë³´**: ì•ˆì „í•œ ì‹í’ˆë§Œ ì¶”ì²œ
- **ë¹„ì„ í˜¸ ì‹í’ˆ**: ì‹«ì–´í•˜ëŠ” ìŒì‹ ì œì™¸
- **ëª©í‘œ ì„¤ì •**: ì¹¼ë¡œë¦¬, íƒ„ìˆ˜í™”ë¬¼ ëª©í‘œì— ë§ëŠ” ê³„íš

## ğŸš€ ì‹œì‘í•˜ê¸°
**í‚¤í†  ë‹¤ì´ì–´íŠ¸ ì‹œì‘í•˜ë ¤ê³  í•´**ë¼ê³  ë§ì”€í•´ì£¼ì‹œë©´ ê°œì¸ ë§ì¶¤ ê°€ì´ë“œë¥¼ ì œê³µí•´ë“œë¦´ê²Œìš”!
"""

# ë¹„ë¡œê·¸ì¸ ì‚¬ìš©ììš© í‚¤í†  ì„¤ëª… í…œí”Œë¦¿
KETO_EXPLANATION_TEMPLATE_GUEST = """
# ğŸ¥‘ í‚¤í†  ë‹¤ì´ì–´íŠ¸ë€?

**í‚¤í† ì œë‹‰ ë‹¤ì´ì–´íŠ¸** (Ketogenic Diet)ëŠ” ê³ ì§€ë°©, ì €íƒ„ìˆ˜í™”ë¬¼ ì‹ë‹¨ì…ë‹ˆë‹¤.

## ğŸ“Š ê¸°ë³¸ ì›ë¦¬
- **íƒ„ìˆ˜í™”ë¬¼**: 20g ì´í•˜ (ì¼ì¼ ì¹¼ë¡œë¦¬ì˜ 5%)
- **ì§€ë°©**: 70-80% (ì£¼ ì—ë„ˆì§€ì›)
- **ë‹¨ë°±ì§ˆ**: 20-25% (ê·¼ìœ¡ ë³´í˜¸)

## âš¡ ì‘ë™ ì›ë¦¬
1. **íƒ„ìˆ˜í™”ë¬¼ ì œí•œ** â†’ ê¸€ë¦¬ì½”ê² ê³ ê°ˆ
2. **ì¼€í†¤ì²´ ìƒì„±** â†’ ì§€ë°©ì„ ì—ë„ˆì§€ë¡œ ì „í™˜
3. **ì²´ì¤‘ ê°ëŸ‰** + **ì§‘ì¤‘ë ¥ í–¥ìƒ**

## ğŸ½ï¸ ì£¼ìš” ì‹í’ˆ
### âœ… ê¶Œì¥ ì‹í’ˆ
- **ê³ ê¸°**: ì†Œê³ ê¸°, ë¼ì§€ê³ ê¸°, ë‹­ê³ ê¸°, ì˜¤ë¦¬ê³ ê¸°
- **ìƒì„ **: ì—°ì–´, ê³ ë“±ì–´, ì°¸ì¹˜, ìƒˆìš°
- **ì§€ë°©**: ë²„í„°, ì˜¬ë¦¬ë¸Œì˜¤ì¼, ì•„ë³´ì¹´ë„, ê²¬ê³¼ë¥˜
- **ì±„ì†Œ**: ìì±„ì†Œ, ë¸Œë¡œì½œë¦¬, ì•„ìŠ¤íŒŒë¼ê±°ìŠ¤

### âŒ í”¼í•´ì•¼ í•  ì‹í’ˆ
- **ê³¡ë¬¼**: ìŒ€, ë°€, ì˜¥ìˆ˜ìˆ˜
- **ê³¼ì¼**: ì‚¬ê³¼, ë°”ë‚˜ë‚˜, í¬ë„ (ê³ ë‹¹ë„)
- **ë‹¹ë¥˜**: ì„¤íƒ•, ê¿€, ì‹œëŸ½
- **ê°€ê³µì‹í’ˆ**: ë¹µ, ì¼€ì´í¬, ê³¼ì

## ğŸ¯ íš¨ê³¼
- **ì²´ì¤‘ ê°ëŸ‰**: ì§€ë°© ì—°ì†Œ ì´‰ì§„
- **ì§‘ì¤‘ë ¥**: ì•ˆì •ì ì¸ ì—ë„ˆì§€ ê³µê¸‰
- **í˜ˆë‹¹ ì•ˆì •**: ì¸ìŠë¦° ì €í•­ì„± ê°œì„ 

## âš ï¸ ì£¼ì˜ì‚¬í•­
- **ì˜ë£Œì§„ ìƒë‹´** í•„ìˆ˜
- **ì „í•´ì§ˆ ë³´ì¶©** í•„ìš”
- **ì ì§„ì  ì‹œì‘** ê¶Œì¥

## ğŸ’¡ ë” ë‚˜ì€ ì„œë¹„ìŠ¤ë¥¼ ìœ„í•´
**ë¡œê·¸ì¸**í•˜ì‹œë©´ **í”„ë¡œí•„ ì •ë³´**ë¥¼ ì…ë ¥í•´ ì•Œë ˆë¥´ê¸°, ë¹„ì„ í˜¸ ì‹í’ˆì„ ê³ ë ¤í•œ **ë§ì¶¤í˜• ê°€ì´ë“œ**ë¥¼ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤!

## ğŸš€ ì‹œì‘í•˜ê¸°
**í‚¤í†  ë‹¤ì´ì–´íŠ¸ ì‹œì‘í•˜ë ¤ê³  í•´**ë¼ê³  ë§ì”€í•´ì£¼ì‹œë©´ ê¸°ë³¸ ê°€ì´ë“œë¥¼ ì œê³µí•´ë“œë¦´ê²Œìš”!
"""

def is_logged_in_user(profile: dict) -> bool:
    """ë¡œê·¸ì¸ ì‚¬ìš©ì ì—¬ë¶€ í™•ì¸"""
    return bool(profile.get("user_id"))

def get_general_response_template(message: str, profile: dict = None) -> str:
    """ì¼ë°˜ ì§ˆë¬¸ì— ëŒ€í•œ í…œí”Œë¦¿ ì‘ë‹µ (ì‚¬ìš©ì ìƒíƒœë³„)"""
    
    message_lower = message.lower().strip()
    is_logged_in = is_logged_in_user(profile or {})
    
    # í‚¤í†  ì‹œì‘ ê°€ì´ë“œ ê´€ë ¨ (ì •í™•í•œ ì‹œì‘ ì˜ë„ë§Œ ê°ì§€)
    keto_start_keywords = [
        "í‚¤í†  ë‹¤ì´ì–´íŠ¸ ì‹œì‘í•˜ë ¤ê³  í•´",
        "í‚¤í†  ë‹¤ì´ì–´íŠ¸ ì‹œì‘í•˜ë ¤ê³ ",
        "í‚¤í†  ë‹¤ì´ì–´íŠ¸ ì‹œì‘",
        "í‚¤í†  ì‹œì‘í•˜ë ¤ê³  í•´",
        "í‚¤í†  ì‹œì‘í•˜ë ¤ê³ ",
        "í‚¤í†  ì‹œì‘",
        "ë‹¤ì´ì–´íŠ¸ ì‹œì‘í•˜ë ¤ê³  í•´",
        "ë‹¤ì´ì–´íŠ¸ ì‹œì‘í•˜ë ¤ê³ ",
        "ë‹¤ì´ì–´íŠ¸ ì‹œì‘"
    ]
    if any(keyword in message_lower for keyword in keto_start_keywords):
        # í‚¤í†  ì‹œì‘ ê°€ì´ë“œ í…œí”Œë¦¿ import ë° ì‚¬ìš©
        from .keto_start_template import format_keto_start_guide
        return format_keto_start_guide(profile or {})
    
    # ì¸ì‚¬ ê´€ë ¨
    greeting_keywords = ["ì•ˆë…•", "ì•ˆë…•í•˜ì„¸ìš”", "í•˜ì´", "hi", "hello"]
    if any(keyword in message_lower for keyword in greeting_keywords):
        return GREETING_TEMPLATE_LOGGED_IN if is_logged_in else GREETING_TEMPLATE_GUEST
    
    # ìê¸°ì†Œê°œë§Œ í…œí”Œë¦¿ìœ¼ë¡œ ì²˜ë¦¬ (ì •í™•í•œ ë§¤ì¹­)
    intro_exact_keywords = ["ë„ˆëŠ” ë­ì•¼", "ë‹¹ì‹ ì€ ë­ì•¼", "ë„ˆëŠ” ëˆ„êµ¬ì•¼", "ë‹¹ì‹ ì€ ëˆ„êµ¬ì•¼", "ë„ˆ ë­ì•¼", "ë‹¹ì‹  ë­ì•¼", "ë„ˆ ëˆ„êµ¬ì•¼", "ë‹¹ì‹  ëˆ„êµ¬ì•¼"]
    if any(keyword == message_lower for keyword in intro_exact_keywords):
        return INTRODUCTION_TEMPLATE_LOGGED_IN if is_logged_in else INTRODUCTION_TEMPLATE_GUEST
    
    # í…œí”Œë¦¿ ë¯¸ë§¤ì¹­ ì‹œ None ë°˜í™˜ (LLMì´ ì²˜ë¦¬í•˜ë„ë¡)
    return None
