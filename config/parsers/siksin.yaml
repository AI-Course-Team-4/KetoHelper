# ğŸ½ï¸ ì‹ì‹  (siksin.com) íŒŒì„œ ì„¤ì •

site:
  name: "siksin"
  display_name: "ì‹ì‹ "
  base_url: "https://www.siksin.com"
  trust_rank: 1              # ì†ŒìŠ¤ ì‹ ë¢°ë„ (1=ìµœê³ )
  encoding: "utf-8"
  
# ğŸ” ê²€ìƒ‰ ì„¤ì •
search:
  # ê²€ìƒ‰ URL íŒ¨í„´ (í‚¤ì›Œë“œ ê¸°ë°˜)
  url_pattern: "https://www.siksin.com/search?query={keyword}&page={page}"
  method: "GET"
  max_pages: 5               # ìµœëŒ€ ê²€ìƒ‰ í˜ì´ì§€
  results_per_page: 20       # í˜ì´ì§€ë‹¹ ê²°ê³¼ ìˆ˜
  
  # ê²€ìƒ‰ ê²°ê³¼ CSS ì…€ë ‰í„°
  selectors:
    # ì‹ë‹¹ ëª©ë¡ ì»¨í…Œì´ë„ˆ
    restaurant_list: ".restaurant-list .restaurant-item, .search-results .restaurant-card"
    
    # ê°œë³„ ì‹ë‹¹ ì •ë³´
    restaurant_name: ".restaurant-name, .shop-name, h3.title"
    restaurant_url: "a[href*='/restaurants/'], a[href*='/shop/']"
    restaurant_address: ".address, .location-info"
    restaurant_category: ".category, .food-category"
    restaurant_rating: ".rating-score, .grade"
    
    # í˜ì´ì§€ë„¤ì´ì…˜
    next_page: ".pagination .next, .page-next"
    page_numbers: ".pagination .page-num"
    
  # ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ì„ ë•Œ ê°ì§€
  no_results_selectors:
    - ".no-results"
    - ".empty-search"
    - ".search-empty"
    - ".no-data"
    
# ğŸª ì‹ë‹¹ ìƒì„¸ í˜ì´ì§€ ì„¤ì •  
restaurant_detail:
  # ê¸°ë³¸ ì •ë³´ ì…€ë ‰í„°
  selectors:
    # í•„ìˆ˜ ì •ë³´
    name: "h1.restaurant-title, .shop-title, .restaurant-name h1"
    address: ".address-info .road-address, .location .address"
    address_jibun: ".address-info .jibun-address, .location .jibun"
    phone: ".phone-number, .contact-info .phone, .tel"
    
    # ì¹´í…Œê³ ë¦¬ ë° í‰ì 
    category: ".category-tag, .food-type, .cuisine-type"
    rating: ".rating-average, .total-score .score"
    review_count: ".review-count, .review-total"
    
    # ì¢Œí‘œ ì •ë³´ (ë‹¤ì–‘í•œ íŒ¨í„´)
    latitude: 
      - "[data-latitude]"
      - "[data-lat]"
      - "script:contains('lat')"   # JavaScript ë‚´ ì¢Œí‘œ
    longitude: 
      - "[data-longitude]"
      - "[data-lng]"
      - "[data-lon]"
      - "script:contains('lng')"
      
    # ìš´ì˜ ì‹œê°„
    hours: ".opening-hours, .business-hours, .hours-info"
    
    # ë©”ë‰´ ì •ë³´
    menu_section: ".menu-section, .menu-list, .food-menu"
    menu_items: ".menu-item, .menu-card, .food-item"
    menu_name: ".menu-name, .food-name, .dish-name"
    menu_price: ".menu-price, .price, .cost"
    menu_description: ".menu-description, .menu-info, .dish-desc"
    
    # ì´ë¯¸ì§€
    main_image: ".restaurant-image img, .main-photo img, .hero-image img"
    menu_images: ".menu-item img, .food-photo img"
    
# ğŸ”§ ë°ì´í„° ì¶”ì¶œ ê·œì¹™
extraction:
  # ì¢Œí‘œ ì¶”ì¶œ ì •ê·œì‹ (JavaScriptì—ì„œ)
  coordinate_patterns:
    - "lat[^0-9]*([0-9.]+)"
    - "latitude[^0-9]*([0-9.]+)"
    - "lng[^0-9]*([0-9.]+)"
    - "longitude[^0-9]*([0-9.]+)"
    
  # ì „í™”ë²ˆí˜¸ ì •ê·œí™”
  phone_patterns:
    - "([0-9]{2,3})-([0-9]{3,4})-([0-9]{4})"
    - "([0-9]{2,3})\\s*([0-9]{3,4})\\s*([0-9]{4})"
    
  # ê°€ê²© ì¶”ì¶œ ë° ì •ê·œí™”
  price_patterns:
    - "([0-9,]+)ì›"
    - "â‚©([0-9,]+)"
    - "([0-9,]+)\\s*ì›"
    
  # ë¶ˆí•„ìš”í•œ í…ìŠ¤íŠ¸ ì œê±°
  cleanup_patterns:
    - "\\s+"              # ì—°ì† ê³µë°± -> ë‹¨ì¼ ê³µë°±
    - "^\\s+|\\s+$"       # ì•ë’¤ ê³µë°± ì œê±°
    - "\\n+"              # ì—°ì† ê°œí–‰ -> ë‹¨ì¼ ê°œí–‰

# âœ… ë°ì´í„° ê²€ì¦ ê·œì¹™
validation:
  # í•„ìˆ˜ í•„ë“œ ê²€ì¦
  required_fields:
    restaurant: 
      - "name"
      - "address"
    menu: 
      - "name"
      
  # ë°ì´í„° í˜•ì‹ ê²€ì¦
  formats:
    phone: "^\\d{2,3}-\\d{3,4}-\\d{4}$"  # ì „í™”ë²ˆí˜¸ í˜•ì‹
    price: "^[0-9,]+$"                   # ê°€ê²© í˜•ì‹ (ìˆ«ìì™€ ì½¤ë§ˆë§Œ)
    rating: "^[0-5](\\.\\d{1,2})?$"      # í‰ì  0-5 (ì†Œìˆ˜ì  2ìë¦¬)
    
  # ë°ì´í„° ë²”ìœ„ ê²€ì¦
  ranges:
    latitude: [37.4, 37.7]    # ì„œìš¸ì‹œ ìœ„ë„ ë²”ìœ„
    longitude: [126.8, 127.2] # ì„œìš¸ì‹œ ê²½ë„ ë²”ìœ„
    rating: [0, 5]            # í‰ì  ë²”ìœ„
    
  # ì´ìƒì¹˜ íƒì§€
  anomaly_detection:
    price_min: 1000           # ìµœì†Œ ê°€ê²© 1000ì›
    price_max: 100000         # ìµœëŒ€ ê°€ê²© 100,000ì›
    name_min_length: 2        # ì´ë¦„ ìµœì†Œ ê¸¸ì´
    name_max_length: 50       # ì´ë¦„ ìµœëŒ€ ê¸¸ì´
    address_min_length: 10    # ì£¼ì†Œ ìµœì†Œ ê¸¸ì´

# ğŸš« ì°¨ë‹¨ ê°ì§€ ì„¤ì •
blocking_detection:
  # ì°¨ë‹¨ ì§€í‘œ í‚¤ì›Œë“œ
  indicators:
    - "reCAPTCHA"
    - "Access Denied"
    - "Rate Limit Exceeded"
    - "captcha"
    - "robot"
    - "bot"
    - "ì°¨ë‹¨"
    - "ì ‘ê·¼ ì œí•œ"
    
  # ë¹ˆ í˜ì´ì§€ ê°ì§€ ì…€ë ‰í„°
  empty_page_selectors:
    - ".no-results"
    - ".empty-list"
    - ".error-message"
    - ".not-found"
    
  # ë¡œë”© ì™„ë£Œ ëŒ€ê¸° ì…€ë ‰í„°
  loading_complete_selectors:
    - ".restaurant-list"
    - ".search-results"
    - ".restaurant-detail"
    
# â±ï¸ íƒ€ì´ë° ì„¤ì •
timing:
  # í˜ì´ì§€ ë¡œë”© ëŒ€ê¸°
  page_load_timeout: 15      # í˜ì´ì§€ ë¡œë”© ìµœëŒ€ ëŒ€ê¸° ì‹œê°„
  element_timeout: 10        # ìš”ì†Œ ëŒ€ê¸° ì‹œê°„
  
  # ì•¡ì…˜ ê°„ ëŒ€ê¸°
  action_delay: 1            # ì•¡ì…˜ ê°„ 1ì´ˆ ëŒ€ê¸°
  scroll_delay: 0.5          # ìŠ¤í¬ë¡¤ í›„ ëŒ€ê¸°
  click_delay: 1             # í´ë¦­ í›„ ëŒ€ê¸°
  
  # ë„¤íŠ¸ì›Œí¬ ëŒ€ê¸°
  network_idle_timeout: 2    # ë„¤íŠ¸ì›Œí¬ ìœ íœ´ ëŒ€ê¸°

# ğŸ­ íšŒí”¼ ì „ëµ
evasion:
  # ì‚¬ìš©ì ì—ì´ì „íŠ¸ ë¡œí…Œì´ì…˜ (ìƒìœ„ ì„¤ì •ì—ì„œ ê°€ì ¸ì˜´)
  rotate_user_agent: true
  
  # ë·°í¬íŠ¸ ëœë¤í™”
  random_viewport: true
  viewport_options:
    - [1920, 1080]
    - [1366, 768] 
    - [1280, 720]
    
  # ìŠ¤í¬ë¡¤ ì‹œë®¬ë ˆì´ì…˜
  human_like_scrolling: true
  scroll_pause_min: 0.5
  scroll_pause_max: 2.0
  
  # í´ë¦­ ì‹œë®¬ë ˆì´ì…˜
  human_like_clicking: true
  click_delay_min: 0.5
  click_delay_max: 1.5

# ğŸ“Š ì„±ëŠ¥ ìµœì í™”
performance:
  # ë¦¬ì†ŒìŠ¤ ì°¨ë‹¨ (ì†ë„ í–¥ìƒ)
  block_resources:
    - "image"      # ì´ë¯¸ì§€ ì°¨ë‹¨ (í•„ìš”ì‹œë§Œ ë¡œë”©)
    - "font"       # í°íŠ¸ ì°¨ë‹¨
    - "media"      # ë¯¸ë””ì–´ íŒŒì¼ ì°¨ë‹¨
    
  # JavaScript ë¹„í™œì„±í™” (í•„ìš” ì‹œ)
  disable_javascript: false
  
  # ìºì‹œ ì‚¬ìš©
  enable_cache: true
  
# ğŸ”„ ì¬ì‹œë„ ì „ëµ (ì‚¬ì´íŠ¸ë³„)
retry:
  # ì¬ì‹œë„ ê°€ëŠ¥í•œ ì—ëŸ¬ ì½”ë“œ
  retryable_status_codes:
    - 429  # Too Many Requests
    - 502  # Bad Gateway  
    - 503  # Service Unavailable
    - 504  # Gateway Timeout
    
  # íŒŒì‹± ì‹¤íŒ¨ ì‹œ ëŒ€ì²´ ì…€ë ‰í„°
  fallback_selectors:
    restaurant_name:
      - "h1"
      - ".title"
      - ".name"
    address:
      - ".addr"
      - ".location"
      - ".place"